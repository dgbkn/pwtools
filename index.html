<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pw tool</title>
</head>
<body>

    enter the pdf json response
    <input type="text" id="pdf" onchange="doo()" onforminput="doo()" oninput="doo()">

<br>
    enter video response
        <input type="text" id="videores" onchange="doo()" onforminput="doo()" oninput="doo()">
<br>
 <button type="button" onclick="doo()">Calculate</button>
<button type="button" onclick="cls()">Clear</button>
<br>
 <table id="maintable">
  <tr>
    <th>name</th>
    <th>url</th>
    <th>action</th>
  </tr>
  
</table>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script>

<script>
    function doo(){

var res = `
  <tr>
    <th>name</th>
    <th>url</th>
    <th>action</th>
  </tr>
            `; 

var maintable = document.getElementById("maintable")

maintable.innerHTML= res;

if(document.getElementById("pdf").value=""){
var arr = document.getElementById("videores");
}
if(document.getElementById("videores").value=""){
var arr = document.getElementById("pdf");
}
      var obj = JSON.parse(arr.value); 

            
              
            for(var i in obj["data"]){
var iuri=i?.videoURL+i?.link+i?.key;

                res = res + `
           <tr>
    <td>`+i['name']+`</td>
    <td>`+iuri+`</td>
    <td><button onclick="copy('${iuri}')">copy it </button></td>
        </tr>
                `;
             }


maintable.innerHTML= res;

              
    }
    
    document.getElementById("videores").focus();
</script>


</body>
</html>
